# 空荧酒馆·原神地图 Rust 后端

## 如何构建

```shell
docker-compose -f ./tasks/compose.yml build
docker-compose -f ./tasks/compose.yml up -d
```

## 逻辑分块

主要分为3大块：

1. 业务模块
2. 权限模块
3. 功能模块

### 业务模块

业务模块为服务于地图逻辑的模块

当前提供的地图逻辑实体有：

1. 地区
2. 物品
3. 点位
4. 图标
5. 路线

其中，对以下逻辑实体提供打点-审核机制：

1. 点位
2. 路线（TODO）

对以下逻辑实体提供分类支持：

1. 物品
2. 图标

以下的数据结构为树状结构：

1. 所有的分类
2. 地区

### 权限模块

当前权限系统为单角色，共分为以下几个等级（权限由高到低）

1. 系统管理员——最高权限，管理权限模块
2. 地图管理员——管理业务模块
3. 审核员——拥有审核点位的权限
4. 测试服打点员——拥有对测试服数据的访问权限，经管理员授权可以绕过审核机制
5. 正式服打点员——拥有提交打点的权限
6. 后台准用户——无权限
7. 前台用户——匿名用户
